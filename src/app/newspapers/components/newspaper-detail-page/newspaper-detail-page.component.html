<snoop-page-component [displayNavSearch]="true">
    <div class="page-container big-padding" [ngClass]="{'display-analysis': displayAnalysis, 'small': isMobile}">
        <ng-container *ngIf="!loading ; else loader">
            <ng-container *ngIf="newspaper ; else noData">
                <div class="analysis-container" [@analysisAnimation] (@analysisAnimation.done)="onAnalysisAnimationDone($event)" *ngIf="displayedAnalysis">
                    <snoop-newspaper-analysis *ngIf="displayedAnalysis" [analysis]="displayedAnalysis" (hasClosedAnalysis)="closeAnalysis()"></snoop-newspaper-analysis>
                </div>
                <div class="dashboard-container">
                    <snoop-newspaper-dashboard [@dashboardAnimation]="fullDashboard ? 'full': 'small'" (@dashboardAnimation.done)="onDashboardAnimationDone($event)" [newspaper]="newspaper"
                        [bubbleDisplay]="!displayAnalysis" (hasOpenedAnalysis)="openAnalysis($event)">
                    </snoop-newspaper-dashboard>
                </div>
            </ng-container>
            <ng-template #noData>
                <div class="no-data-message">No data available yet</div>
            </ng-template>
        </ng-container>
        <ng-template #loader>
            <ngx-spinner class="spinner" type="ball-atom" bdColor="rgba(0, 19, 20, 0.7)"></ngx-spinner>
        </ng-template>
    </div>
</snoop-page-component>